# 多币种价格监控器

一个功能强大的Chrome浏览器扩展，用于实时监控加密货币价格，支持多币种选择、波动率分析、价格提醒和悬浮图表显示。

## ✨ 主要功能

- **多币种支持**：ETH、BTC、SOL、BCH实时价格监控
- **自动更新**：每5秒自动获取最新价格
- **价格曲线**：显示最近5小时的价格走势图
- **波动率分析**：计算价格波动率并支持星级通知
- **价格提醒**：设置价格上限和下限自动提醒
- **悬浮图表**：在网页上显示实时价格曲线
- **本地存储**：提醒设置自动保存

## 🚀 快速开始

### 安装方法

1. **使用安装脚本**（推荐）
   ```bash
   # Windows
   双击运行 install.bat
   
   # Linux/Mac
   chmod +x install.sh
   ./install.sh
   ```

2. **手动安装**
   - 打开Chrome浏览器
   - 进入 `chrome://extensions/`
   - 开启"开发者模式"
   - 点击"加载已解压的扩展程序"
   - 选择扩展文件夹

### 使用方法

1. **选择币种**：在币种选择器中选择要监控的币种
2. **开始监控**：点击"开始监控"按钮启动自动更新
3. **设置提醒**：添加价格提醒和波动率阈值
4. **查看图表**：监控启动后自动显示悬浮图表

## 📊 功能详解

### 价格监控
- 实时获取币安API数据
- 显示价格变化和涨跌幅
- 支持手动和自动更新模式

### 波动率分析
- 计算5小时内的价格波动率
- 支持自定义阈值设置
- 星级通知系统（1-5星）

### 价格提醒
- 设置价格上限和下限
- 达到目标价格自动通知
- 支持多个提醒同时设置

### 悬浮图表
- 实时价格曲线显示
- 自动跟随监控状态
- 支持拖拽和调整大小

## 🔧 技术架构

```
extension/
├── manifest.json          # 扩展配置文件
├── popup.html            # 弹出窗口界面
├── popup.js              # 弹出窗口逻辑
├── background.js         # 后台服务脚本
├── content.js            # 内容脚本（悬浮图表）
├── content.css           # 悬浮图表样式
├── icons/                # 扩展图标
└── install.bat           # 安装脚本
```

### 核心组件

- **Service Worker**：后台持续监控价格
- **Popup Script**：用户界面和交互逻辑
- **Content Script**：网页悬浮图表显示
- **Message API**：组件间通信机制

## 🛠️ 开发说明

### 文件结构
- `popup.js`：处理用户界面和交互
- `background.js`：后台价格监控和通知
- `content.js`：悬浮图表显示
- `manifest.json`：扩展配置和权限

### 消息通信
```javascript
// popup -> background
chrome.runtime.sendMessage({action: 'startMonitoring', coin: 'ETHUSDT'})

// background -> popup
chrome.runtime.sendMessage({action: 'updatePrice', price: '2000.00'})
```

### API接口
- 币安价格API：`https://api.binance.com/api/v3/ticker/price`
- 支持币种：ETHUSDT、BTCUSDT、SOLUSDT、BCHUSDT

## 🐛 故障排除

### 常见问题

1. **价格不更新**
   - 检查网络连接
   - 确认扩展已启用
   - 查看控制台错误信息

2. **监控不启动**
   - 检查币种选择
   - 确认API访问权限
   - 重新加载扩展

3. **图表不显示**
   - 确保已开始监控
   - 检查价格数据
   - 刷新页面

### 调试方法

1. **查看日志**
   - 右键扩展图标选择"检查弹出内容"
   - 查看Console标签页

2. **测试功能**
   - 检查网络连接
   - 验证API访问
   - 测试消息通信

## 📝 更新日志

### v2.0 (当前版本)
- ✅ 修复价格更新和图表显示问题
- ✅ 改进消息通信机制
- ✅ 添加调试信息和错误处理
- ✅ 优化监控启动逻辑
- ✅ 删除调试文件，简化代码结构

### v1.0
- ✅ 基础价格监控功能
- ✅ 多币种支持
- ✅ 波动率分析
- ✅ 价格提醒系统
- ✅ 悬浮图表显示

## 📄 许可证

本项目仅供学习和个人使用，不构成投资建议。

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目。

## 📞 支持

如有问题或建议，请：
1. 查看使用说明文档
2. 检查故障排除指南
3. 提交Issue描述问题

---

**享受实时监控加密货币价格的便利！** 🚀 